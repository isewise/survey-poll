<!DOCTYPE html>
<html>
<head>
    <title>Poll Preview</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; }
        .stats { background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .vote-item { padding: 10px; border-bottom: 1px solid #eee; }
        .yes { color: #28a745; }
        .no { color: #dc3545; }
    </style>
</head>
<body>
    <h1>Poll Preview</h1>
    <h2>{{ question }}</h2>
    
    <div class="stats">
        <h3>Current Results</h3>
        <p><strong>Total Votes:</strong> {{ total }}</p>
        <p class="yes"><strong>Yes:</strong> {{ yes }} ({{ "%.1f"|format((yes/total*100) if total > 0 else 0) }}%)</p>
        <p class="no"><strong>No:</strong> {{ no }} ({{ "%.1f"|format((no/total*100) if total > 0 else 0) }}%)</p>
    </div>

    <div class="recent">
        <h3>Recent Votes</h3>
        {% for vote in recent_votes %}
        <div class="vote-item">
            <span class="{{ vote.choice }}">{{ vote.choice.upper() }}</span> - {{ vote.created_at }}
        </div>
        {% endfor %}
    </div>
</body>
</html>